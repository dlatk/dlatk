

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>--cca &mdash; DLATK 1.3.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" href="../_static/style.css" type="text/css" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=1f29e9d3"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/dlatk_logo_square.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../install.html#recommended-install">Recommended Install</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install.html#full-install">Full Install</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../install.html#setup">Setup</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../install.html#linux">Linux</a></li>
<li class="toctree-l4"><a class="reference internal" href="../install.html#osx-with-brew">OSX (with brew)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../install.html#install-pip">Install (pip)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../install.html#install-anaconda">Install (Anaconda)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../install.html#install-github">Install (GitHub)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../install.html#install-other-dependencies">Install Other Dependencies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../install.html#load-nltk-corpus">Load NLTK corpus</a></li>
<li class="toctree-l4"><a class="reference internal" href="../install.html#install-stanford-parser">Install Stanford Parser</a></li>
<li class="toctree-l4"><a class="reference internal" href="../install.html#install-tweet-nlp-v0-3-ark-tweet-nlp-0-3">Install Tweet NLP v0.3 (ark-tweet-nlp-0.3)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../install.html#python-modules-optional">Python Modules (optional)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../install.html#install-the-ibm-wordcloud-jar-file-optional">Install the IBM Wordcloud jar file (optional)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../install.html#mallet-optional">Mallet (optional)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../install.html#full-list-of-dependencies">Full List of Dependencies</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../install.html#python">Python</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install.html#other">Other</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install.html#python-optional">Python (optional)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install.html#other-optional">Other (optional)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../install.html#python-version-support">Python version support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install.html#getting-started">Getting Started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../install.html#command-line-interface">Command Line Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install.html#mysql-configuration">MySQL Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install.html#sample-datasets">Sample Datasets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../install.html#next-steps">Next Steps</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../install.html#install-issues">Install Issues</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/dlatk/dlatk/">Github Repo</a></li>
<li class="toctree-l1"><a class="reference external" href="https://colab.research.google.com/drive/10WMCmnKzwywZR7s2et5xx9CcoWBNmhLY?usp=sharing">Getting started in Colab</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html#getting-started">Getting started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html#text-cleaning-and-transformations">Text Cleaning and Transformations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html#feature-extraction">Feature Extraction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html#viewing-your-data-and-output">Viewing your data and output</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html#prediction">Prediction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html#clustering">Clustering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html#lda-with-mallet">LDA with Mallet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html#data-engines">Data Engines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html#other-topics">Other Topics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html#video-tutorials">Video Tutorials</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../datasets.html">Packaged Datasets</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../datasets.html#language-data">Language Data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../datasets.html#blog-authorship-corpus">Blog Authorship Corpus</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../datasets.html#lexica">Lexica</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../datasets.html#age-and-gender-lexica">Age and Gender Lexica</a></li>
<li class="toctree-l3"><a class="reference internal" href="../datasets.html#perma-lexicon">PERMA Lexicon</a></li>
<li class="toctree-l3"><a class="reference internal" href="../datasets.html#spanish-perma-lexicon">Spanish PERMA Lexicon</a></li>
<li class="toctree-l3"><a class="reference internal" href="../datasets.html#other-lexica">Other Lexica</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../datasets.html#lda-topics">LDA Topics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../datasets.html#facebook-topics">2000 Facebook Topics</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dlatkinterface_ordered.html">dlatkInterface Flags by type</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../dlatkinterface_ordered.html#setup">Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dlatkinterface_ordered.html#preprocessing">Preprocessing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dlatkinterface_ordered.html#feature-extraction">Feature Extraction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dlatkinterface_ordered.html#feature-refinement">Feature Refinement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dlatkinterface_ordered.html#language-insights">Language Insights</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dlatkinterface_ordered.html#clustering">Clustering</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dlatkinterface_ordered.html#prediction">Prediction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../dlatkinterface_ordered.html#regression">Regression</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dlatkinterface_ordered.html#classification">Classification</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../dlatkinterface_ordered.html#visualization">Visualization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../papers.html">Papers Utilizing DLATK</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../papers.html#dlatk-paper">DLATK Paper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../papers.html#peer-reviewed-publications">Peer Reviewed Publications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../papers.html#id1">2020</a></li>
<li class="toctree-l3"><a class="reference internal" href="../papers.html#id2">2019</a></li>
<li class="toctree-l3"><a class="reference internal" href="../papers.html#id3">2018</a></li>
<li class="toctree-l3"><a class="reference internal" href="../papers.html#id4">2017</a></li>
<li class="toctree-l3"><a class="reference internal" href="../papers.html#id11">2016</a></li>
<li class="toctree-l3"><a class="reference internal" href="../papers.html#id21">2015</a></li>
<li class="toctree-l3"><a class="reference internal" href="../papers.html#id26">2014</a></li>
<li class="toctree-l3"><a class="reference internal" href="../papers.html#id32">2013</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">DLATK</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">--cca</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/fwinterface/fwflag_cca.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="cca">
<span id="fwflag-cca"></span><h1>--cca<a class="headerlink" href="#cca" title="Link to this heading"></a></h1>
<section id="switch">
<h2>Switch<a class="headerlink" href="#switch" title="Link to this heading"></a></h2>
<p>--cca</p>
</section>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Link to this heading"></a></h2>
<p>Performs CCA on the features and the outcomes and generates clusters (called components).</p>
</section>
<section id="argument-and-default-value">
<h2>Argument and Default Value<a class="headerlink" href="#argument-and-default-value" title="Link to this heading"></a></h2>
<p>Number of components to generate.</p>
</section>
<section id="details">
<h2>Details<a class="headerlink" href="#details" title="Link to this heading"></a></h2>
<p>This switch performs finds components that explain variance in both the features and the outcomes&amp;controls, using the sparse CCA implementation in R. This first removes groups that have at least 4 non null values in the feature or outcome matrix, then performs softImpute (matrix completion) to get rid of the null values, and then performs CCA. Output will be in the form of (features x component) weights and (outcomes x component) weights, and the exact output format depends on the flags you specify (<a class="reference internal" href="fwflag_rmatrix.html"><span class="doc">--rmatrix</span></a> or <a class="reference internal" href="fwflag_csv.html"><span class="doc">--csv</span></a> etc.).</p>
<p>Note that the number of components (the argument, sometimes called K) must satisfy:</p>
<p>There are a bunch of parameters for the sparse CCA function in R, the only ones that have a command line switch are penalties set on the &quot;left&quot; matrix (aka X, usually features) and the &quot;right&quot; matrix (aka Z, usually outcomes):
<a class="reference internal" href="fwflag_cca_penalty_feats.html"><span class="doc">--cca_penalty_feats</span></a>, aka <span class="xref std std-doc">fwflag_cca_penaltyx</span> <a class="reference internal" href="fwflag_cca_penalty_outcomes.html"><span class="doc">--cca_penalty_outcomes</span></a>, aka <span class="xref std std-doc">fwflag_cca_penaltyz</span> To find which values to assign to these parameters, you can run <a class="reference internal" href="fwflag_cca_permute.html"><span class="doc">--cca_permute</span></a>
If you want to do cca without using the features, use <a class="reference internal" href="fwflag_cca_outcomes_vs_controls.html"><span class="doc">--cca_outcomes_vs_controls</span></a> as an additional flag.</p>
</section>
<section id="other-switches">
<h2>Other Switches<a class="headerlink" href="#other-switches" title="Link to this heading"></a></h2>
<p>Required Switches:</p>
<ul class="simple">
<li><p><a class="reference internal" href="fwflag_d.html"><span class="doc">-d</span></a>, <a class="reference internal" href="fwflag_c.html"><span class="doc">-g</span></a>, <a class="reference internal" href="fwflag_t.html"><span class="doc">-t</span></a></p></li>
<li><p><a class="reference internal" href="fwflag_f.html"><span class="doc">-f</span></a></p></li>
<li><p><a class="reference internal" href="fwflag_outcome_table.html"><span class="doc">--outcome_table</span></a></p></li>
<li><p><a class="reference internal" href="fwflag_outcomes.html"><span class="doc">--outcomes</span></a></p></li>
</ul>
<p>Optional Switches:</p>
<ul class="simple">
<li><p><a class="reference internal" href="fwflag_group_freq_thresh.html"><span class="doc">--group_freq_thresh</span></a></p></li>
<li><p><a class="reference internal" href="fwflag_outcome_controls.html"><span class="doc">--outcome_controls</span></a></p></li>
<li><p><a class="reference internal" href="fwflag_cca_penalty_feats.html"><span class="doc">--cca_penalty_feats</span></a></p></li>
<li><p><a class="reference internal" href="fwflag_cca_penalty_outcomes.html"><span class="doc">--cca_penalty_outcomes</span></a></p></li>
<li><p><a class="reference internal" href="fwflag_cca_outcomes_vs_controls.html"><span class="doc">--cca_outcomes_vs_controls</span></a></p></li>
<li><p><a class="reference internal" href="fwflag_topic_tagcloud.html"><span class="doc">--topic_tagcloud</span></a> etc.</p></li>
</ul>
</section>
<section id="example-commands">
<h2>Example Commands<a class="headerlink" href="#example-commands" title="Link to this heading"></a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Performs CCA on the topics and 15 diseases using 15 components</span>
<span class="c1"># Will output 2 HTML files called d0s0.K15.outcomes.html and d0s0.K15.feat.html</span>
dlatkInterface.py<span class="w"> </span>-d<span class="w"> </span>county_disease<span class="w"> </span>-t<span class="w"> </span>messages_en<span class="w"> </span>-c<span class="w"> </span>cnty<span class="w"> </span>-f<span class="w"> </span><span class="s1">&#39;feat$cat_met_a30_2000_cp_w$messages_en$cnty$16to16&#39;</span><span class="w"> </span>--group_freq_thresh<span class="w"> </span><span class="m">50000</span><span class="w"> </span>--outcome_table<span class="w"> </span>topDeaths_comp_0910<span class="w"> </span>--outcomes<span class="w"> </span>01hea_aar<span class="w"> </span>02mal_aar<span class="w"> </span>03chr_aar<span class="w"> </span>04cer_aar<span class="w"> </span>05acc_aar<span class="w"> </span>06alz_aar<span class="w"> </span>07dia_aar<span class="w"> </span>08nep_aar<span class="w"> </span>09flu_aar<span class="w"> </span>10sel_aar<span class="w"> </span>11sep_aar<span class="w"> </span>12liv_aar<span class="w"> </span>13hyp_aar<span class="w"> </span>14par_aar<span class="w"> </span>15pne_aar<span class="w"> </span>--output_name<span class="w"> </span>~/CCA/d0s0.K15<span class="w"> </span>--rmatrix<span class="w"> </span>--cca<span class="w"> </span><span class="m">15</span>

<span class="c1"># Performs CCA on the topics and 15 diseases using 15 components, with penalties set to 0.5 and 0.5 for X and Z.</span>
<span class="c1"># Will output 2 HTML files called d0s0.K15.X0_5.Z0_5.outcomes.html and d0s0.K15.X0_5.Z0_5.feat.html, plus d0s0.K15.X0_5.Z0_5_topic_tagcloud.txt.</span>
<span class="c1"># It will also create the topic wordclouds in a separate directory.</span>
dlatkInterface.py<span class="w"> </span>-d<span class="w"> </span>county_disease<span class="w"> </span>-t<span class="w"> </span>messages_en<span class="w"> </span>-c<span class="w"> </span>cnty<span class="w"> </span>-f<span class="w"> </span><span class="s1">&#39;feat$cat_met_a30_2000_cp_w$messages_en$cnty$16to16&#39;</span><span class="w"> </span>--group_freq_thresh<span class="w"> </span><span class="m">50000</span><span class="w"> </span>--outcome_table<span class="w"> </span>topDeaths_comp_0910<span class="w"> </span>--outcomes<span class="w"> </span>01hea_aar<span class="w"> </span>02mal_aar<span class="w"> </span>03chr_aar<span class="w"> </span>04cer_aar<span class="w"> </span>05acc_aar<span class="w"> </span>06alz_aar<span class="w"> </span>07dia_aar<span class="w"> </span>08nep_aar<span class="w"> </span>09flu_aar<span class="w"> </span>10sel_aar<span class="w"> </span>11sep_aar<span class="w"> </span>12liv_aar<span class="w"> </span>13hyp_aar<span class="w"> </span>14par_aar<span class="w"> </span>15pne_aar<span class="w"> </span>--output_name<span class="w"> </span>~/CCA/d0s0.K15.X0_5.Z0_5<span class="w"> </span>--rmatrix<span class="w"> </span>--cca<span class="w"> </span><span class="m">15</span><span class="w"> </span>--topic_tagcloud<span class="w"> </span>--topic_lexicon<span class="w"> </span>met_a30_2000_freq_t50ll<span class="w"> </span>--cca_penaltyx<span class="w"> </span>.5<span class="w"> </span>--cca_penaltyz<span class="w"> </span>.5<span class="w"> </span>--csv<span class="w"> </span>--sort<span class="w"> </span>--make_topic_wordclouds
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, H. Andrew Schwartz and Salvatore Giorgi.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>